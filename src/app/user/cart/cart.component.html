<!DOCTYPE html>
<html lang="en" >
<head>

	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<meta content="" name="description">
	<meta content="" name="keywords">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">	
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
   >


  <link rel="style"  href="cart.component.css">
<style>
    body{
     background-image: url("../assets/img/log1.jpg");
      width: 100%;
      height: 100vh;
      margin-top: auto;
      margin-left: 	auto;
       background-size: cover;
     background-position: center;
     background-repeat: no-repeat;
     position: relative;

    }  </style>
    			
  


</head>

<body>
 

  <header  id="header" class="fixed-top d-flex align-items-center header-transparent" >
    
    <div  class="container-fluid container-xl d-flex align-items-center justify-content-between">
              <div class="logo me-auto" >
                <h1>EVENT.</h1>
              </div>
        
              <nav id="navbar" class="navbar order-last order-lg-0">
                <ul>
                  <li><a class="nav-link scrollto" (click)="gotohome()">Home</a></li>
                  <li><a class="nav-link scrollto" href="search">Search</a></li>
        
                  <li><a class="nav-link scrollto "  href="catag">Event List</a></li>
                  <li><a class="nav-link scrollto" href="profil">Profile</a></li>
                  <li><a class="nav-link scrollto" href="chatbot">Contact</a></li>

                 
                </ul>
                <i class="bi bi-list mobile-nav-toggle"></i>
              </nav><!-- .navbar -->
        
              
        
            </div>
          </header><!-- End Header -->
<ng-container *ngIf="_eventlist.length !=0">
    <div class="container" >
    <div class="card-table">
        <div class="card-events">
            <table class="table table-responsive" >
                <thead>
                    <tr>
                        <th> Event Name</th>
                        <th> Event Place </th>
                        <th> Event Date</th>
                        <th> Ticket Type</th>
                        <th> Price</th>
                        <th> Quantity</th>
                        <th> Total</th>
                        <th> Action</th>
                    </tr>
                </thead>
                <tbody>
                <tr  *ngFor="let event of _eventlist;">
                  
                   <td> {{event.name}}</td>
                   <td> {{event.lieu}}</td>
                   <td> {{event.date}}</td>
                   <td>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="ticketType{{event.id}}" id="student{{event.id}}" (change)="updateEventTotal(event)" [(ngModel)]="event.ticketType" value="student">
                      <label class="form-check-label" for="student{{event.id}}">For Student</label>
                    </div>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="ticketType{{event.id}}" id="nonStudent{{event.id}}" [(ngModel)]="event.ticketType" (change)="updateEventTotal(event)" value="non-student">
                      <label class="form-check-label" for="nonStudent{{event.id}}"> For No-Student</label>
                    </div>
                    
                  </td>
                  <td>
                    {{ event.ticketType === 'student' ? event.priceForStudent : (event.ticketType === 'non-student' ? event.priceForNoStudent : 0) }} TND
                  </td>
                  
                    
                    
                   
                   <td><input type="number"[(ngModel)]="event.qte" (change)="updateEventTotal(event)"  [max]="event.stoke">  </td>
                   
                   <td>{{event.total}} TND</td>
                   <td>
                    <button (click)="removeItem(event)" class="btn btn-danger">
                      <i class="fas fa-trash" aria-hidden="true"></i>
                    </button>
               <!--    <span *ngIf="showDeleteMessage" class="alert alert-danger">
                      <i  class="fas fa-exclamation-circle"></i>
                      Event deleted successfully
                      <i class="fas fa-times close-icon" (click)="showDeleteMessage = false"></i>
                    </span>-->
                  </td>
                  
                </tr>
            </tbody>
        
  
                <tr >
                   <td colspan="6"></td>
                    <td> <button class="btn btn-danger" (click)="emptycart()" style="color:rgb(16, 17, 17);" ><i class="fas fa-trash-alt"></i>Empty Cart</button></td>
                    <td> <button  routerLink="/catag" class="btn  btn-primary" style="color:rgb(16, 17, 17);" ><i class="fas fa-shopping-cart"></i>Shop more</button></td>
                    <td> <button class="btn btn-success" style="color:rgb(16, 17, 17);" routerLink="/payer" > <i class="fas fa-credit-card"></i>Payment</button></td>
                    <td> <strong>All total:{{grandTotal}}   TND</strong></td>
                </tr>
              </table>
              </div>
            </div>
    </div>
  
</ng-container>

 







      <!--Panier Vide-->
<ng-container *ngIf="_eventlist.length ==0">
    <div class="center">
        <h4>Your Cart is empty!</h4>
        <h6>Add event to it now </h6>
        <bytton routerLink="/catag" class="btn btn-success"><i class="fas fa-shopping-cart"></i> shop now</bytton>
        </div>
</ng-container>
</body>
</html>